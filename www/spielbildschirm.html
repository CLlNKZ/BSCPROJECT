<!DOCTYPE html>
<html lang="de">
<head>

<SCRIPT type="text/javascript"> 

window.name = "DoubleCardOn";
 
var zeilenanzahl = 2; 
var spaltenanzahl = 3; 
var feldanzahl=6;
var bildpaare=3;
var timer_start, timer_ende, timer_gestartet = "no";
var anzahl_versuche=0;
var angeklicktes_bild=0;

var pic1;
var pic2;
var firstimage=0;
var image_number;
var image_number_first_click;
var first_clicked_image=0;
var allow_click=1;

var bild=new Array(); 

bild[0]=new Array(2); 
bild[0]["A"]=new Image;
bild[0]["A"].src="img/animals/alpaca1.png"; 
bild[0]["B"]=new Image; 
bild[0]["B"].src="img/animals/alpaca2.png";

bild[1]=new Array(2); 
bild[1]["A"]=new Image; 
bild[1]["A"].src="img/animals/albatross1.png"; 
bild[1]["B"]=new Image; 
bild[1]["B"].src="img/animals/albatross2.png";

bild[2]=new Array(2); 
bild[2]["A"]=new Image; 
bild[2]["A"].src="img/animals/anaconda1.png"; 
bild[2]["B"]=new Image; 
bild[2]["B"].src="img/animals/anaconda2.png";

bild[3]=new Array(2); 
bild[3]["A"]=new Image; 
bild[3]["A"].src="img/animals/alligator1.png"; 
bild[3]["B"]=new Image; 
bild[3]["B"].src="img/animals/alligator2.png";

var covered = new Image;
covered.src="img/icons/right.png"; 
//var openpic1 = new Image;

var image_numbers = new Array(); 
for (var t=0; t < feldanzahl; t++) { 
image_numbers[t]=new Array(); 
image_numbers[t]["zahl"]=t; 
image_numbers[t]["status"]=0; 
}

var temp_numbers= new Array(); 

/*----------------------------------------------------function init() start-------------------------------------------------*/
function init() {

for (var i=0; i < feldanzahl; i++) { 
temp_numbers[i]=i; 
}

for (var i=0; i < feldanzahl; i++) { 
	do{
	random_number = Math.round(Math.random() * (feldanzahl)); 
	} 
	while (random_number > (feldanzahl-1));
	
 	var temp=temp_numbers[i]; 
 	temp_numbers[i]=temp_numbers[(random_number)]; 
 	temp_numbers[(random_number)]=temp; 
} 

for (i=0; t < feldanzahl; i++) { 
 	image_numbers[i]["zahl"]=temp_numbers[i]; 
} 	
}	

/*------------------------------------------------function init() ende------------------------------------------*/

	function nothing(pic1,pic2) { 
		//window.document.images[pic1].src=covered.src; 
		image_numbers[pic1]["status"]=0; 
		//window.document.images[pic2].src=covered.src; 
		//window.document.images[pic2].src.style.borderColor = "black";
		image_numbers[pic2]["status"]=0; 
		
		allow_click=1; 
	}
	
	//Überfülle covered.src mit den Bildern
	function anfang(x,y){
		image_number=(x*spaltenanzahl+y);

 		if ((firstimage==0) && (image_numbers[image_number]["status"]<3)) {
  		pic1=Math.floor(image_numbers[image_number]["zahl"]/2); 
  		if ((image_numbers[image_number]["zahl"] % 2)==0) {
			window.document.images[image_number].src=bild[pic1]["B"].src; 
			}
  		else window.document.images[image_number].src=bild[pic1]["A"].src;
 		}
		
	}

	function look(x,y) {
	//Timer aktivieren und auf true setzen
	
	if (timer_gestartet=='no') { 
		timer_gestartet='yes';
		timer_start=new Date();  
	}
	
	image_number=(x*spaltenanzahl+y);
	

	//Wenn das erste Bild angeklickt wird
 	if ((firstimage==0) && (image_numbers[image_number]["status"]<3)) {
  	allow_click=0; 
  	firstimage=1;
	//Angeklicktes Bild wird grün
	window.document.images[image_number].style.borderColor = "orange"; 
  	pic1=Math.floor(image_numbers[image_number]["zahl"]/2); 
  	first_clicked_image=image_number; 
  	allow_click=1; 
	//Wenn dies das erste Bild ist, diese image_number speichern, falls 2. falsch ist, auch dieses wieder auf schwarzen Rand zurücksetzen kann
	image_number_first_click = image_number;
 	}
  
  	//Wenn bereits ein Bild angeklickt ist und das zweite hinzukommt
    else if ((firstimage==1) && (image_numbers[image_number]["status"]<3)) {
	window.document.images[image_number].style.borderColor = "orange"; 
    allow_click=0; 
	firstimage=0; 
	anzahl_versuche++; 
	pic2=Math.floor(image_numbers[image_number]["zahl"]/2); 
	if (pic1!=pic2) {
	window.setTimeout("nothing(first_clicked_image,image_number)",500);
	window.document.images[image_number].style.borderColor = "black";
	window.document.images[image_number_first_click].style.borderColor = "black";  
	}
	else { 
	angeklicktes_bild++; 
	allow_click=1;
	
	}
	
	if (angeklicktes_bild==bildpaare) timer_ende=new Date(); 
	}
	
	//Wenn alle Bildpaare gefunden sind
	if (angeklicktes_bild==bildpaare) { 
	var zeit=Math.floor(eval( ( (timer_ende.getTime() - timer_start.getTime()) ) / 1000)); 
	alert("Gratulation, du hast das Spiel mit "+anzahl_versuche+" Versuchen und in "+zeit+" Sekunden geschafft!"); 
	} 
	}
	
	var game;
	
	function loadmemory() { var start=0; if (document.spiel.settings[0].checked == true) { game="r4c4"; start=1; } if (document.spiel.settings[1].checked == true) { game="r4c6"; start=1; } if (document.spiel.settings[2].checked == true) { game="r6c6"; start=1; } window.name="DoubleCardON"; location.reload(); } </SCRIPT>


        <title>Spielbildschirm</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/spielbildschirm.css" />
    </head>
    <body>
        <div align="center">
          <SCRIPT type="text/javascript">
		  init();
		  
		  for (var i=0; i < zeilenanzahl; i++) 
		  { 
		  	for (var j=0; j < spaltenanzahl; j++) 
			{ 
			
			document.write('<IMG src="'+covered.src+'" border="3" OnLoad="anfang('+i+','+j+')" onClick="if (allow_click==1) look('+i+','+j+')" name="M'+(i*spaltenanzahl+j)+'">'); 
			}
			document.write('<BR>'); 
		  }
		  
          </SCRIPT>
         
            <a href="index.html" class="zurückbuttonspielbildschirm">Zurück</a>
        </div>-->
    </body>
    
</html>
